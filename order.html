<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Checkout - Castle Cards</title>
    <link rel="icon" type="image/png" href="assets/img/logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        brand: {
                            red: '#f00000',
                            black: '#0a0a0a',
                            dark: '#121212',
                            gray: '#1E1E1E'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #050505; color: white; }
        .file-drop-zone {
            background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='16' ry='16' stroke='%23333' stroke-width='2' stroke-dasharray='12%2c 12' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e");
            transition: all 0.3s ease;
        }
        .file-drop-zone:hover {
            background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='16' ry='16' stroke='%23f00000' stroke-width='2' stroke-dasharray='12%2c 12' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e");
            background-color: rgba(240, 0, 0, 0.05);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- NAV -->
    <nav class="w-full py-6 px-6 md:px-12 flex justify-between items-center border-b border-gray-900 bg-[#0a0a0a]">
        <div class="text-xl font-bold tracking-tighter flex items-center gap-2">
            <div class="w-3 h-3 bg-brand-red rotate-45"></div>
            CASTLE CARDS
        </div>
        <div class="text-xs text-gray-500 font-bold uppercase tracking-widest flex items-center gap-2">
            <span class="text-brand-red">🔒</span> Secure Checkout
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div class="flex-1 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-3 gap-12 p-6 md:p-12">
        
        <!-- LEFT COLUMN: INPUTS -->
        <div class="lg:col-span-2 space-y-10">
            
            <!-- Step 1: Logo Upload -->
            <section>
                <h2 class="text-xl font-bold mb-4 flex items-center gap-3">
                    <span class="w-6 h-6 rounded-full bg-brand-red text-white flex items-center justify-center text-xs">1</span>
                    Card Customization
                </h2>
                <div class="bg-brand-dark p-6 rounded-2xl border border-gray-800">
                    <label class="block text-sm font-bold text-gray-400 mb-4">Upload Your Logo (For Printing)</label>
                    
                    <div class="file-drop-zone h-48 rounded-2xl flex flex-col items-center justify-center cursor-pointer text-center p-6">
                        <div class="w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center text-2xl mb-3">📂</div>
                        <p class="text-sm font-bold text-white">Click to upload or drag and drop</p>
                        <p class="text-xs text-gray-500 mt-1">SVG, AI, or High-Res PNG (Max 10MB)</p>
                        <input type="file" class="hidden">
                    </div>
                    
                    <div class="mt-4 flex items-start gap-3">
                        <input type="checkbox" id="design-help" class="mt-1 bg-black border-gray-700 rounded text-brand-red focus:ring-brand-red">
                        <label for="design-help" class="text-sm text-gray-400">
                            I don't have a vector logo. <span class="text-white font-bold">Please help me redesign it (+ LKR 2,500)</span>
                        </label>
                    </div>
                </div>
            </section>

            <!-- Step 2: Shipping Info -->
            <section>
                <h2 class="text-xl font-bold mb-4 flex items-center gap-3">
                    <span class="w-6 h-6 rounded-full bg-brand-red text-white flex items-center justify-center text-xs">2</span>
                    Shipping Details
                </h2>
                <div class="bg-brand-dark p-6 rounded-2xl border border-gray-800 grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="md:col-span-2">
                        <label class="text-xs text-gray-500 font-bold uppercase mb-1 block">Full Name</label>
                        <input type="text" class="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm focus:border-brand-red focus:outline-none transition">
                    </div>
                    <div class="md:col-span-2">
                        <label class="text-xs text-gray-500 font-bold uppercase mb-1 block">Address</label>
                        <input type="text" class="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm focus:border-brand-red focus:outline-none transition">
                    </div>
                    <div>
                        <label class="text-xs text-gray-500 font-bold uppercase mb-1 block">City</label>
                        <input type="text" class="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm focus:border-brand-red focus:outline-none transition">
                    </div>
                    <div>
                        <label class="text-xs text-gray-500 font-bold uppercase mb-1 block">Postal Code</label>
                        <input type="text" class="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm focus:border-brand-red focus:outline-none transition">
                    </div>
                    <div class="md:col-span-2">
                        <label class="text-xs text-gray-500 font-bold uppercase mb-1 block">Country</label>
                        <select class="w-full bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm focus:border-brand-red focus:outline-none transition text-gray-400">
                            <option>Sri Lanka</option>
                            <option>United Kingdom</option>
                            <option>Australia</option>
                            <option>USA</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Step 3: Payment Mockup -->
            <section>
                <h2 class="text-xl font-bold mb-4 flex items-center gap-3">
                    <span class="w-6 h-6 rounded-full bg-brand-red text-white flex items-center justify-center text-xs">3</span>
                    Payment Method
                </h2>
                <div class="bg-brand-dark p-6 rounded-2xl border border-gray-800">
                   <div class="flex gap-4">
                       <label class="flex items-center gap-3 border border-gray-700 p-4 rounded-xl cursor-pointer w-full hover:border-brand-red">
                           <input type="radio" name="payment" checked class="text-brand-red focus:ring-brand-red bg-black">
                           <span class="font-bold">Credit/Debit Card</span>
                       </label>
                       <label class="flex items-center gap-3 border border-gray-700 p-4 rounded-xl cursor-pointer w-full hover:border-brand-red">
                           <input type="radio" name="payment" class="text-brand-red focus:ring-brand-red bg-black">
                           <span class="font-bold">Bank Transfer</span>
                       </label>
                   </div>
                </div>
            </section>

        </div>

        <!-- RIGHT COLUMN: SUMMARY -->
        <div class="lg:col-span-1">
            <div class="bg-white text-black p-6 rounded-2xl sticky top-6 shadow-2xl">
                <h3 class="text-xl font-black uppercase mb-6 border-b border-gray-200 pb-4">Order Summary</h3>

                <!-- Selected Item (Dynamic) -->
                <div class="flex items-start gap-4 mb-6">
                    <div class="w-16 h-10 bg-black rounded md:w-20 md:h-12 flex items-center justify-center text-white text-xs font-bold">
                        IMG
                    </div>
                    <div>
                        <h4 id="item-name" class="font-bold text-sm">Professional Card</h4>
                        <p class="text-xs text-gray-500">PVC / Matte Black</p>
                    </div>
                    <div id="item-price" class="ml-auto font-bold text-sm">LKR 2,500</div>
                </div>

                <!-- Totals -->
                <div class="space-y-3 text-sm border-t border-gray-200 pt-4 mb-6">
                    <div class="flex justify-between text-gray-600">
                        <span>Subtotal</span>
                        <span id="summary-subtotal">LKR 2,500</span>
                    </div>
                    <div class="flex justify-between text-gray-600">
                        <span>Island-wide Delivery</span>
                        <span>LKR 450</span>
                    </div>
                </div>

                <div class="flex justify-between items-center border-t border-black pt-4 mb-8">
                    <span class="font-bold uppercase text-sm">Total</span>
                    <span id="summary-total" class="font-black text-2xl text-brand-red">LKR 2,950</span>
                </div>

                <button onclick="alert('Order submitted! Redirecting to Payment Gateway...')" class="w-full bg-brand-red text-white py-4 rounded-xl font-bold hover:bg-red-700 transition shadow-lg text-sm uppercase tracking-wide">
                    Pay Now
                </button>
                
                <p class="text-[10px] text-center text-gray-400 mt-4">
                    Secure 256-bit SSL Encrypted payment. <br> 
                    Login details will be emailed instantly.
                </p>
            </div>
        </div>

    </div>

    <!-- JAVASCRIPT TO HANDLE PRICING -->
    <script>
        // Default Pricing (Professional Base)
        let price = 2500;
        let shipping = 450;
        let itemName = "Professional Card";

        // Check URL Parameters
        const params = new URLSearchParams(window.location.search);
        const plan = params.get('plan');

        if (plan === 'executive') {
            price = 5500; // Base Metal Price
            itemName = "Metal Hybrid Card";
        }

        // Format to Currency
        const formatMoney = (amount) => 'LKR ' + amount.toLocaleString();

        // Update DOM
        document.getElementById('item-name').innerText = itemName;
        document.getElementById('item-price').innerText = formatMoney(price);
        document.getElementById('summary-subtotal').innerText = formatMoney(price);
        document.getElementById('summary-total').innerText = formatMoney(price + shipping);
    </script>

</body>
</html>